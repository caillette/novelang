gunit AntlrPart ;

@header {
  package novelang.parser.antlr ;
}

paragraphBody :

//
// Emphasis.
//
"/w0/" -> (EMPHASIS (WORD w0))


//
// Parenthesis.
//
"(w0)" -> (PARENTHESIS (WORD w0))


//
// Quote.
//
<<"w0">> -> (QUOTE (WORD w0))


//
// Interpolated clause.
//
"-- w0 --" -> (INTERPOLATEDCLAUSE (WORD w0))
"-- w0 -_" -> (INTERPOLATEDCLAUSE_SILENTEND (WORD w0))


//
// Some amazing combinations.
//
<<"w0">>                  OK
<<"w0 (w1)">>             OK
<<"w0 (w1 /w2/)">>        OK
<<"w0 (w1 /w2 (w3)/)">>   OK
<<"(w0 -- w1 (w2) --)">>  OK
<</w0/>>                  OK
<</w0 (w1)/.>>            OK
<</w0 (w1, "w62")/ ?>>    OK
<<(w0 !)>>                OK
<<(w0 "w1"...)>>          OK
<<(w0 "w1 /w2/") : w3 !>> OK

<<(w0 "w1 (w2 "w3")")>>          FAIL // Quote depth limited to 1.
<<(w0 /w1 (w2 /w3/)/)>>          FAIL // Emphasis depth limited to 1.
<<(w0 /w1 (w2 "w3 (w4)")/)>>     FAIL // Parenthesis depth limited to 2.
<<(w0 -- w1 (w2 -- w3 -- ) --)>> FAIL // Interpolated clauses depth limited to 1.


//
// Nesting across several lines.
//

<</w1
(w2
-- w3
"w4
w5"--)/.>>    OK



